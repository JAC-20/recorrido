<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<title>Galer√≠a 3D 360 PRO</title>

<style>
*{margin:0;padding:0;box-sizing:border-box}

body{
    height:100vh;
    overflow:hidden;
    font-family:'Segoe UI',sans-serif;
}

/* FONDO */
.image-bg{
    position:fixed;
    inset:0;
    background:url("images.jpeg") center/cover no-repeat;
    z-index:-2;
}
.image-bg::after{
    content:"";
    position:absolute;
    inset:0;
    background:rgba(0,0,0,.35);
}

.blur{
    position:fixed;
    inset:0;
    backdrop-filter:blur(14px);
    background:rgba(0,0,0,.45);
    z-index:-1;
}

/* ESCENA */
.scene{
    width:100%;
    height:100vh;
    perspective:2000px;
    display:flex;
    justify-content:center;
    align-items:center;
}

/* CONTENEDOR 3D */
.carousel{
    position:relative;
    width:360px;
    height:360px;
    transform-style:preserve-3d;
    cursor:grab;
}

/* TARJETA */
.card{
    position:absolute;
    width:160px;
    height:280px;
    left:65px;
    top:15px;
    border-radius:20px;
    overflow:hidden;
    background:#000;
    box-shadow:0 25px 60px rgba(0,0,0,.8);
    transition:
        transform 1.2s cubic-bezier(.19,1,.22,1),
        box-shadow .6s ease,
        opacity 1s ease;
}

.card img{
    width:100%;
    height:100%;
    object-fit:cover;
}


/* TEXTO */
.caption{
    position:absolute;
    inset:0;
    padding:5px;
    display:flex;
    flex-direction:column;
    justify-content:flex-end;
    background:linear-gradient(to top, rgba(0,0,0,.85), transparent);
    color:#fff;
    opacity:0;
    pointer-events:none;
    transform:translateZ(1px);
}
.caption h3{
    font-size:14px;   /* T√çTULO */
    margin-bottom:3px;
}

.caption p{
    font-family:'Poppins', sans-serif;
    font-size:10px;   /* TEXTO */
    line-height:1.2;
}


.card.active .caption{
    opacity:1;
}

/* TARJETA ACTIVA (MISMO LUGAR, SOLO SE ACERCA) */
.card.active{
    transform:
        rotateY(var(--angle))
        translateZ(720px)
        scale(1.25);
    z-index:999;
    box-shadow:0 45px 120px rgba(0,0,0,1);
}
/* BOT√ìN CARTA */
.letter-btn{
    position:fixed;
    bottom:20px;
    right:20px;
    font-size:28px;
    background:rgba(0,0,0,.6);
    color:white;
    width:55px;
    height:55px;
    border-radius:50%;
    display:flex;
    justify-content:center;
    align-items:center;
    cursor:pointer;
    z-index:1000;
    transition:transform .3s;
}
.letter-btn:hover{
    transform:scale(1.1);
}

/* OVERLAY */
.letter-overlay{
    position:fixed;
    inset:0;
    background:rgba(0,0,0,.75);
    display:none;
    justify-content:center;
    align-items:center;
    z-index:2000;
}

/* CARTA */
.letter{
    background:#c4ced0;
    width:85%;
    max-width:550px;
    padding:30px;
    border-radius:18px;
    position:relative;
    animation:zoomIn .4s ease;
    box-shadow:0 40px 120px rgba(0,0,0,.5);
}

.letter h2{
    font-family:'Poppins', sans-serif;
    margin-bottom:10px;
}

.letter p{
    font-size:14px;
    line-height:1.5;
    color:#333;
}

/* CERRAR */
.close-letter{
    position:absolute;
    top:10px;
    right:10px;
    background:none;
    border:none;
    font-size:18px;
    cursor:pointer;
}

/* ANIMACI√ìN */
@keyframes zoomIn{
    from{transform:scale(.6);opacity:0}
    to{transform:scale(1);opacity:1}
}

</style>
</head>

<body>

<div class="image-bg"></div>

<!-- CARTA -->
<div class="letter-btn" id="openLetter">‚úâÔ∏è</div>

<div class="letter-overlay" id="letterOverlay">
    <div class="letter">
        <button class="close-letter" id="closeLetter">‚úñ</button>
        <h2>Para ti mi vida üíô</h2>
        <p>
            Quiero empezar diciendote que te amo mucho, fue un a√±o muy bonito, de muchas cosas nuevas y apredizaje para los dos,
            quiero darte las gracias por todo lo hacer por mi, este a√±o pude conecerte mas y sin duda una persona increible, esforzada y maravillosaüòç
            soy afortundo de tenerte en mi vida y quiero sea asi siempre. 
            poder acompa√±arte en este nuevo a√±o en lo que te propongas, sue√±os, metas juntitos y que seamos un equipo hasta viejitos, la verdad e podido 
            aprender mucho de ti, hay cosas que sin si habria sido mas complicado, ese apoyo y amor que me das ha sido fundamental para mi, 

            <br><br>

            En esta galeria de foto hay muchos recuerdos juntitos, quizas no sea todo por que no alcanzaria, 

            <br><br>

            Esto no es solo una galer√≠a,  
            es un pedacito de lo que siento por ti üí´
        </p>
    </div>
</div>


<div class="scene">
<div class="carousel" id="carousel">

<div class="card"><img src="20.jpeg"><div class="caption"><h3> üíô</h3>
  <p>
    Quise hacer algo distinto. Un peque√±o recorrido por momentos que para m√≠ significan todo,
    <br>
    <br>
    porque en cada uno est√°s t√∫, Es un viaje por recuerdos, emociones y momentos que guardo en el coraz√≥n desde que llegaste a mi vida.
    <br>
    <br>
    Esta foto quizas no es la primera, pero si un momento lindo donde tuvimos el placer de ver un atardecer muy lindo y unos de muchos que hemos visto juntitos, sin darme cuenta, no supe, pero ni dude,
     que esto continuaria de una manera increible y bonitaü•∞
   </p></div></div>
<div class="card"><img src="2.jpeg"><div class="caption"><h3>estudio</h3><p>Aqui no pasaba mucho de que entraba a tu casa estando con tu familia, si aun era mucho nervio entrar, estudiavamos o intentavamos al menos jssjjs 
  pasaban muchas cosas de primera    </p></div></div>
<div class="card"><img src="10.jpeg"><div class="caption"><h3>Revelacion  </h3><p>Fue la primera ves que me presentabas a tu circo mas cercano o familia completa, la verdad mucho  nervio ese dia sin dudarlo, no sabia como lo tomarian, si era de su agradado o nose muchas cosas. 
  <br>
  <br>
  pero si despues se fue dando, hasta di vuelta el bazo de bebida jajaja tenia que estar relajado me decias, Cosa que era dificil, imposible olvidar eso, gracias por no dejarme solo ese momento 

</p></div></div>
<div class="card"><img src="8.jpeg"><div class="caption"><h3>Foto 4</h3><p>Aqui seria como las segunda ves que iria al campo estando con tu familia, bien recuerdo que ese dia comimos papas fritas, 
    y reimos caleta con las cosas que decian ahi jsjjs hasta cante ese dia mi talento oculto jshjs ahh casi </p></div></div>
<div class="card"><img src="5.jpeg"><div class="caption"><h3>Foto 5</h3><p>la verdad en esta foto ya entraba mas a tu casa era mas lejado estar ahi, osea sin tanto nervio ya me estaba haciendo mas parte 
    de tu familia 

</p></div></div>
<div class="card"><img src="7.jpeg"><div class="caption"><h3>Foto 6</h3><p>
    esta foto que no vemos bonito, cuando estabamos viendo peliculas la sacamosü•∞
    <br>
    <br>
    noche de peliculas que bacan me sentia poder estar asi,
    cuando lo hablamos sonaba tan dificil que cuando estabamos ahi fue tan lindo, sin ninguna preocupacion. </p></div></div>
<div class="card"><img src="11.jpeg"><div class="caption"><h3>Foto 7</h3><p>Una seccion de foto ese dia, donde? en el mirador obvio jjaja un de mucho momento juntos estando ahi, hablabamos de muchas cosas conociendonos mas mi amor  </p></div></div>
<div class="card"><img src="13.jpeg"><div class="caption"><h3>Foto 8</h3><p>Texto bonito</p></div></div>
<div class="card"><img src="12.jpeg"><div class="caption"><h3>Foto 7</h3><p>Aqui donde no podiamos estar en casita, pero si estabamos en el auto hablando, hasta tarde y bien tarde, fundamental el auto, si no donde estariamos jshsjh y mas controlado que nunca, quedamos mas registrados cosas del barrio fino sjksh /p></div></div>
<div class="card"><img src="14.jpeg"><div class="caption"><h3>Foto 8</h3><p>Sin duda una ruta muy bonita estando a su lado. recorrer cada lugar contigo es tan bacan y unico, 
    ese momento tan preciso donde no habia nadie y llega alguien para que esa foto pudiera estar aqui, siendo nuestro primer paseo juntitos y uno de muchos que hemos hecho. </p></div></div>
<div class="card"><img src="15.jpeg"><div class="caption"><h3>Foto 7</h3><p>Texto bonito</p></div></div>
<div class="card"><img src="6.jpeg"><div class="caption"><h3>F</h3><p> Como lo iba hacer, fue lo primero que me dije en ese momento pero obtuve ayuda igual para poder llevarlo a cabo ksjsjjs ese momento de cumplir un a√±ito juntitos fue tan lindo, como que el tiempo paso muy rapido,
    tenia tantas emociones juntas ese dia, aveces pienso todo lo que hemos pasado en cada momento, muchs emociones ese diaüíùü•∞
</p></div></div>
<div class="card"><img src="3.jpeg"><div class="caption"><h3>Foto 7</h3><p>Texto bonito</p></div></div>
<div class="card"><img src="21.jpeg"><div class="caption"><h3>Foto 8</h3><p>Texto bonito</p></div></div>
<div class="card"><img src="22.jpeg"><div class="caption"><h3>Foto 7</h3><p>Texto bonito</p></div></div>
<div class="card"><img src="23.jpeg"><div class="caption"><h3>Foto 8</h3><p>Texto bonito</p></div></div>
<div class="card"><img src="24.jpeg"><div class="caption"><h3>Foto 7</h3><p>Texto bonito</p></div></div>
<div class="card"><img src="Sin t√≠tulo.jpeg"><div class="caption"><h3>Foto 8</h3><p>Texto bonito</p></div></div>

</div>
</div>

<script>
const carousel = document.getElementById("carousel");
const cards = [...document.querySelectorAll(".card")];
const total = cards.length;

let rotY = 0;
let rotX = 0;
let radius = 520;
let active = null;
let dragging = false;
let sx = 0, sy = 0;

/* POSICI√ìN EN C√çRCULO */
function position(){
    cards.forEach((c,i)=>{
        const angle = (360 / total) * i;
        c.dataset.angle = angle;
        c.style.setProperty("--angle", `${angle}deg`);

        /* PARTEN DESDE EL CENTRO */
        c.style.transform = `rotateY(${angle}deg) translateZ(0px)`;
        c.style.opacity = "0";
    });

    /* ANIMACI√ìN DE ENTRADA */
    setTimeout(()=>{
        cards.forEach((c,i)=>{
            const angle = c.dataset.angle;
            c.style.transition = "transform 1.2s ease, opacity 1s ease";
            c.style.transform =
                `rotateY(${angle}deg) translateZ(${radius}px)`;
            c.style.opacity = "1";
        });
    }, 300);
}

position();

/* CLICK FOTO (NO ROTA EL CARRUSEL) */
cards.forEach(c=>{
    c.addEventListener("click", e=>{
        e.stopPropagation();

        if(active === c){
            c.classList.remove("active");
            active = null;
            return;
        }

        if(active){
            active.classList.remove("active");
        }

        active = c;
        c.classList.add("active");
    });
});

/* CLICK FUERA */
document.body.addEventListener("click",()=>{
    if(active){
        active.classList.remove("active");
        active = null;
    }
});

/* DRAG MOUSE 360 */
carousel.addEventListener("mousedown", e=>{
    dragging = true;
    sx = e.clientX;
    sy = e.clientY;
});
window.addEventListener("mouseup",()=>dragging=false);

window.addEventListener("mousemove", e=>{
    if(!dragging || active) return;
    rotY += (e.clientX - sx) * 0.35;
    rotX -= (e.clientY - sy) * 0.25;
    rotX = Math.max(-60, Math.min(60, rotX));
    sx = e.clientX;
    sy = e.clientY;
    update();
});

/* TOUCH 360 */
carousel.addEventListener("touchstart", e=>{
    sx = e.touches[0].clientX;
    sy = e.touches[0].clientY;
});

carousel.addEventListener("touchmove", e=>{
    if(active) return;
    rotY += (e.touches[0].clientX - sx) * 0.35;
    rotX -= (e.touches[0].clientY - sy) * 0.25;
    rotX = Math.max(-60, Math.min(60, rotX));
    sx = e.touches[0].clientX;
    sy = e.touches[0].clientY;
    update();
});

/* ACTUALIZAR */
function update(){
    carousel.style.transform =
        `rotateX(${rotX}deg) rotateY(${rotY}deg)`;
}

/* AUTO ROTATE */
function auto(){
    if(!dragging && !active){
        rotY += 0.02;
        update();
    }
    requestAnimationFrame(auto);
}
auto();
const openLetter = document.getElementById("openLetter");
const closeLetter = document.getElementById("closeLetter");
const letterOverlay = document.getElementById("letterOverlay");

openLetter.addEventListener("click", ()=>{
    letterOverlay.style.display = "flex";
});

closeLetter.addEventListener("click", ()=>{
    letterOverlay.style.display = "none";
});

letterOverlay.addEventListener("click", e=>{
    if(e.target === letterOverlay){
        letterOverlay.style.display = "none";
    }
});

</script>

</body>
</html>
